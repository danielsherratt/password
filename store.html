<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>New Era Store</title>

<style>
/* ---------------------------
   GLOBAL THEME
----------------------------*/
:root {
    --primary: #002c5f;
    --accent: #00a2e1;
    --bg: #f4f7fa;
    --card: #ffffff;
    --fade-duration: 0.35s;
}

body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: var(--bg);
    overflow-x: hidden;
}

/* ---------------------------
   HEADER
----------------------------*/
header {
    background: var(--primary);
    color: white;
    padding: 16px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 24px;
    font-weight: bold;
}

.nav-btn {
    padding: 10px 18px;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    background: white;
    color: var(--primary);
    transition: 0.25s;
}
.nav-btn:hover {
    background: var(--accent);
    color: white;
}

/* ---------------------------
   FLOATING MINI CART
----------------------------*/
.mini-cart {
    position: fixed;
    bottom: 22px;
    right: 22px;
    padding: 15px 20px;
    background: var(--accent);
    color: white;
    font-weight: bold;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 100;
    transition: transform 0.25s;
}
.mini-cart:hover {
    transform: scale(1.1);
}

/* ---------------------------
   STORE GRID
----------------------------*/
#storePage {
    max-width: 1200px;
    margin: 40px auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 25px;
    padding: 0 20px;
    opacity: 1;
    transition: opacity var(--fade-duration);
}

/* ---------------------------
   PRODUCT CARD
----------------------------*/
.product {
    background: var(--card);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    transition: transform 0.2s, box-shadow 0.25s;
}
.product:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}

.product img {
    width: 100%;
    height: 160px;
    object-fit: contain;
    margin-bottom: 10px;
    cursor: zoom-in;
    transition: transform 0.25s;
}
.product img:hover {
    transform: scale(1.05);
}

.price {
    color: var(--primary);
    font-weight: bold;
    font-size: 16px;
    margin: 10px 0;
}

.qty-box, select {
    width: 95%;
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #aaa;
    margin-bottom: 10px;
}

.btn {
    padding: 10px 16px;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.25s;
}
.btn:hover {
    background: #008ccf;
}

/* ---------------------------
   CART PAGE
----------------------------*/
#cartPage {
    display: none;
    max-width: 800px;
    margin: 30px auto;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    opacity: 0;
    transition: opacity var(--fade-duration);
}

.cart-item {
    border-bottom: 1px solid #ddd;
    padding: 12px 0;
}
.cart-item input {
    width: 60px;
    padding: 4px;
}

/* ---------------------------
   CHECKOUT PAGE
----------------------------*/
#checkoutPage {
    display: none;
    max-width: 600px;
    margin: 40px auto;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    opacity: 0;
    transition: opacity var(--fade-duration);
}

input {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border-radius: 6px;
    border: 1px solid #aaa;
}

/* ---------------------------
   SUCCESS PAGE
----------------------------*/
#successPage {
    display: none;
    text-align: center;
    margin-top: 80px;
    color: var(--primary);
    font-size: 28px;
    font-weight: bold;
    opacity: 0;
    transition: opacity var(--fade-duration);
}

/* ---------------------------
   LIGHTBOX (ZOOM IMAGE)
----------------------------*/
#lightboxOverlay {
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    background: rgba(0,0,0,0.85);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 200;
    animation: fadeIn 0.3s ease;
}

#lightboxImage {
    max-width: 90%;
    max-height: 90%;
    border-radius: 12px;
    animation: zoomIn 0.3s ease;
}

#lightboxClose {
    position: fixed;
    top: 30px;
    right: 40px;
    color: white;
    font-size: 42px;
    font-weight: bold;
    cursor: pointer;
}

@keyframes fadeIn {
    from {opacity:0;} to {opacity:1;}
}
@keyframes zoomIn {
    from {transform: scale(0.75);} to {transform: scale(1);}
}
</style>
</head>
<body>

<header>
    <div>New Era Store</div>
    <button class="nav-btn" onclick="showCart()">Cart</button>
</header>

<div class="mini-cart" onclick="showCart()">Cart: <span id="miniCount">0</span></div>

<!-- STORE PAGE -->
<div id="storePage"></div>

<!-- CART PAGE -->
<div id="cartPage">
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <button class="btn" onclick="showStore()">Back</button>
    <button class="btn" style="background:var(--primary)" onclick="goCheckout()">Checkout</button>
</div>

<!-- CHECKOUT -->
<div id="checkoutPage">
    <h2>Checkout</h2>
    <h3>Shipping</h3>
    <input placeholder="Full Name">
    <input placeholder="Address">
    <input placeholder="City">

    <h3>Payment (Fake)</h3>
    <input placeholder="Name on Card">
    <input placeholder="Card Number">
    <input placeholder="Expiry (MM/YY)">
    <input placeholder="CVC">

    <button class="btn" onclick="showCart()">Back</button>
    <button class="btn" style="background:var(--primary)" onclick="completeOrder()">Place Order</button>
</div>

<!-- SUCCESS -->
<div id="successPage">Order Complete! ðŸŽ‰<br><br>Thank you for your purchase.</div>

<!-- LIGHTBOX -->
<div id="lightboxOverlay" onclick="closeLightbox()">
    <img id="lightboxImage">
    <div id="lightboxClose" onclick="closeLightbox()">Ã—</div>
</div>

<script>
/* ---------------------------
   PRODUCT DATA
----------------------------*/
const products = [
  { id: 1, name: "Adjustable Cap â€“ Black", price: 39.95, img:"https://assets.swagmagic.com/kcywa8bc072cm1psv8tmryl9lrf6" },
  { id: 2, name: "Fitted Cap â€“ Navy", price: 44.95, img:"https://assets.swagmagic.com/kcywa8bc072cm1psv8tmryl9lrf6" },
  { id: 3, name: "Snapback â€“ Red", price: 41.95, img:"https://assets.swagmagic.com/kcywa8bc072cm1psv8tmryl9lrf6" },
  { id: 4, name: "Bucket Hat â€“ Olive", price: 34.95, img:"https://assets.swagmagic.com/kcywa8bc072cm1psv8tmryl9lrf6" },
  { id: 5, name: "Knit Beanie â€“ Grey", price: 24.95, img:"https://assets.swagmagic.com/kcywa8bc072cm1psv8tmryl9lrf6" }
];

const sizes = ["S", "M", "L", "XL"];
const colours = ["Black", "Navy", "Grey"];

/* ---------------------------
   CART STORAGE
----------------------------*/
let cart = {};

/* ---------------------------
   RENDER STORE
----------------------------*/
function renderStore() {
    const store = document.getElementById("storePage");
    store.innerHTML = "";

    products.forEach(p => {
        store.innerHTML += `
            <div class="product">
                <img src="${p.img}" onclick="openLightbox('${p.img}')">
                <h3>${p.name}</h3>
                <div class="price">$${p.price.toFixed(2)}</div>

                <select id="size${p.id}">
                    <option disabled selected>Select Size</option>
                    ${sizes.map(s=>`<option>${s}</option>`).join("")}
                </select>

                <select id="colour${p.id}">
                    <option disabled selected>Select Colour</option>
                    ${colours.map(c=>`<option>${c}</option>`).join("")}
                </select>

                <input type="number" id="qty${p.id}" class="qty-box" min="1" value="1">
                <button class="btn" onclick="addToCart(${p.id})">Add to Cart</button>
            </div>
        `;
    });
}

/* ---------------------------
   LIGHTBOX
----------------------------*/
function openLightbox(src) {
    document.getElementById("lightboxImage").src = src;
    document.getElementById("lightboxOverlay").style.display = "flex";
}
function closeLightbox() {
    document.getElementById("lightboxOverlay").style.display = "none";
}

/* ---------------------------
   ADD TO CART
----------------------------*/
function addToCart(id) {
    let size = document.getElementById("size"+id).value;
    let colour = document.getElementById("colour"+id).value;
    let qty = parseInt(document.getElementById("qty"+id).value);

    if (!size || !colour || qty < 1) {
        alert("Please select size, colour, and quantity.");
        return;
    }

    if (!cart[id]) {
        const p = products.find(x=>x.id===id);
        cart[id] = { ...p, qty:0, size, colour };
    }

    cart[id].qty += qty;
    updateMiniCart();
}

/* ---------------------------
   UPDATE MINI CART COUNT
----------------------------*/
function updateMiniCart() {
    let total = Object.values(cart).reduce((a,b)=>a+b.qty,0);
    document.getElementById("miniCount").textContent = total;
}

/* ---------------------------
   SHOW CART
----------------------------*/
function showCart() {
    hideAll();
    const cartPage = document.getElementById("cartPage");
    cartPage.style.display = "block";
    setTimeout(()=>cartPage.style.opacity=1, 10);

    const div = document.getElementById("cartItems");
    div.innerHTML = "";

    for (let id in cart) {
        let item = cart[id];
        div.innerHTML += `
            <div class="cart-item">
                <strong>${item.name}</strong><br>
                Size: ${item.size} â€” Colour: ${item.colour}<br>
                $${item.price.toFixed(2)}<br>
                Qty: <input type="number" min="1" value="${item.qty}"
                       onchange="updateQty(${id}, this.value)">
                <button class="btn" onclick="removeItem(${id})">Remove</button>
            </div>
        `;
    }
}

/* ---------------------------
   UPDATE ITEM QTY
----------------------------*/
function updateQty(id, newQty) {
    cart[id].qty = parseInt(newQty);
    updateMiniCart();
    showCart();
}

/* ---------------------------
   REMOVE ITEM
----------------------------*/
function removeItem(id) {
    delete cart[id];
    updateMiniCart();
    showCart();
}

/* ---------------------------
   CHECKOUT
----------------------------*/
function goCheckout() {
    hideAll();
    const page = document.getElementById("checkoutPage");
    page.style.display = "block";
    setTimeout(()=>page.style.opacity=1, 10);
}

/* ---------------------------
   COMPLETE ORDER
----------------------------*/
function completeOrder() {
    cart = {};
    updateMiniCart();
    hideAll();
    const s = document.getElementById("successPage");
    s.style.display = "block";
    setTimeout(()=>s.style.opacity=1, 10);
}

/* ---------------------------
   PAGE NAVIGATION
----------------------------*/
function showStore() {
    hideAll();
    const store = document.getElementById("storePage");
    store.style.display = "grid";
    setTimeout(()=>store.style.opacity=1, 10);
}

function hideAll() {
    ["storePage","cartPage","checkoutPage","successPage"]
        .forEach(id=>{
            document.getElementById(id).style.display="none";
            document.getElementById(id).style.opacity=0;
        });
}

renderStore();
</script>

</body>
</html>
