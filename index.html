<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Password Helper</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîí</text></svg>">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      --bg:#f3f4f6;
      --card:#ffffff;
      --accent:#2563eb;
      --accent-soft:rgba(37,99,235,0.08);
      --border:#e5e7eb;
      --text:#111827;
      --muted:#6b7280;
      --radius:14px;
      --shadow:0 14px 32px rgba(15,23,42,0.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;
      background:radial-gradient(circle at top,#e5e7eb 0,#f9fafb 40%,#ffffff 100%);
      color:var(--text);padding:24px;
    }

    .wrap{
      width:100%;max-width:560px;background:var(--card);padding:22px;border-radius:18px;
      box-shadow:var(--shadow);border:1px solid var(--border);
    }
    .title{display:flex;align-items:center;gap:10px;margin:0 0 6px;font-weight:600;font-size:1.25rem}
    .logo{width:28px;height:28px;border-radius:7px;display:inline-flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg,#2563eb,#60a5fa);color:#fff;font-weight:700}
    .subtitle{margin:0 0 14px;color:var(--muted);font-size:0.92rem}

    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .btn{
      border:1px solid var(--border);padding:8px 12px;border-radius:999px;background:#f9fafb;color:var(--text);
      cursor:pointer;font-size:0.92rem;display:inline-flex;align-items:center;gap:8px;
      transition:transform .12s ease,box-shadow .12s ease,background .12s ease
    }
    .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 8px 18px rgba(37,99,235,.25)}
    .btn:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(15,23,42,.08);background:#eff6ff}
    #btnSimple:hover{color:#111;background:#dbeafe}

    .password-label{font-size:.72rem;color:var(--accent);text-transform:uppercase;letter-spacing:.12em;margin-bottom:6px}
    .password-box{display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:10px;border-radius:14px;background:#f9fafb;border:1px solid var(--border)}
    .password-output{
      font-family:"SF Mono",Menlo,Consolas,monospace;font-size:1.06rem;color:var(--text);
      cursor:pointer;user-select:none;padding:4px 6px;border-radius:6px;display:inline-block;max-width:100%;
      white-space:nowrap;overflow-x:auto;transition:background .15s ease;
    }
    .password-output:hover{background:var(--accent-soft)}
    .copy-btn{border:none;border-radius:999px;padding:6px 10px;background:var(--accent-soft);color:var(--accent);cursor:pointer}

    /* Modal */
    .overlay{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;z-index:60}
    .modal{background:var(--card);padding:18px;border-radius:12px;max-width:640px;width:92%;
      box-shadow:0 18px 40px rgba(0,0,0,.35);border:1px solid var(--border);animation:fadeIn .25s ease}
    @keyframes fadeIn {from{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}
    .modal h3{margin:0 0 8px;font-size:1rem}
    .code{
      font-family:Consolas,"Courier New",monospace;
      background:#ffffff;
      color:#111;
      padding:12px;border-radius:8px;
      border:1px solid var(--border);
      overflow:auto;font-size:0.95rem;
    }
    .modal .m-controls{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
    .modal .m-btn{
      padding:8px 12px;border-radius:8px;border:1px solid var(--border);
      background:#f9fafb;cursor:pointer;font-size:0.9rem;
      display:inline-flex;align-items:center;gap:6px;
      transition:transform .15s ease,background .15s ease,box-shadow .15s ease;
    }
    .modal .m-btn i{font-size:1rem;}
    .modal .m-btn:hover{transform:translateY(-1px);background:#e0e7ff}
    .modal .m-btn:active{animation:pulse .25s ease}
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    .modal .m-btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
    .modal .m-btn.primary:hover{background:#1e40af}

    @media (max-width:460px){
      .title{font-size:1.05rem}
      .password-output{font-size:1rem}
    }
  </style>
</head>
<body>
  <div class="wrap" id="app">
    <div class="title"><span class="logo">P</span>Password Helper</div>
    <p class="subtitle">Generate simple or strong, easy-to-remember passwords.</p>

    <div class="controls">
      <button id="btnSimple" class="btn primary">üôÇ Simple</button>
      <button id="btnStrong" class="btn">üõ°Ô∏è Strong</button>
      <button id="btnApi" class="btn"><i class="fa-solid fa-link"></i> API</button>
    </div>

    <div class="password-label" id="passwordLabel">Simple password</div>
    <div class="password-box">
      <div id="passwordOutput" class="password-output" title="Click to copy"></div>
      <button id="copyBtn" class="copy-btn"><i class="fa-regular fa-copy"></i></button>
    </div>
  </div>

  <!-- API modal -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="apiTitle">
      <h3 id="apiTitle">PowerShell example</h3>
      <div class="code" id="apiCode" tabindex="0">
$Password = Invoke-RestMethod -Uri https://password.danieltesting.space/simple
      </div>
      <div class="m-controls">
        <button id="copyApi" class="m-btn"><i class="fa-regular fa-copy"></i> Copy</button>
        <button id="closeApi" class="m-btn primary"><i class="fa-solid fa-xmark"></i> Close</button>
      </div>
    </div>
  </div>

  <script>
    const out = document.getElementById('passwordOutput');
    const copyBtn = document.getElementById('copyBtn');
    const overlay = document.getElementById('overlay');
    const apiCode = document.getElementById('apiCode');
    const copyApi = document.getElementById('copyApi');
    const closeApi = document.getElementById('closeApi');

    async function fetchPassword(type){
      try{
        const r = await fetch('/'+type,{cache:'no-store'});
        if(!r.ok) throw new Error();
        return await r.text();
      }catch{return 'Error';}
    }
    async function showPassword(type){
      out.textContent='‚Ä¶';
      const pwd=await fetchPassword(type);
      out.textContent=pwd;
      document.getElementById('passwordLabel').textContent=type==='strong'?'Strong password':'Simple password';
    }
    async function copyText(text){
      if(!text) return;
      try{
        await navigator.clipboard.writeText(text);
        copyBtn.innerHTML='<i class="fa-solid fa-check"></i>';
        setTimeout(()=>copyBtn.innerHTML='<i class="fa-regular fa-copy"></i>',900);
      }catch{
        copyBtn.innerHTML='<i class="fa-solid fa-xmark"></i>';
        setTimeout(()=>copyBtn.innerHTML='<i class="fa-regular fa-copy"></i>',900);
      }
    }

    out.addEventListener('click',()=>copyText(out.textContent));
    copyBtn.addEventListener('click',()=>copyText(out.textContent));
    document.getElementById('btnSimple').onclick=()=>showPassword('simple');
    document.getElementById('btnStrong').onclick=()=>showPassword('strong');
    document.getElementById('btnApi').onclick=()=>{
      overlay.style.display='flex';
      overlay.setAttribute('aria-hidden','false');
      apiCode.focus();
    };
    closeApi.onclick=()=>{
      overlay.style.display='none';
      overlay.setAttribute('aria-hidden','true');
    };
    copyApi.onclick=async()=>{
      const text=apiCode.textContent.trim();
      try{
        await navigator.clipboard.writeText(text);
        copyApi.innerHTML='<i class="fa-solid fa-check"></i> Copied';
        setTimeout(()=>copyApi.innerHTML='<i class="fa-regular fa-copy"></i> Copy',900);
      }catch{
        copyApi.innerHTML='<i class="fa-solid fa-xmark"></i> Error';
        setTimeout(()=>copyApi.innerHTML='<i class="fa-regular fa-copy"></i> Copy',900);
      }
    };
    overlay.addEventListener('click',e=>{
      if(e.target===overlay){overlay.style.display='none';overlay.setAttribute('aria-hidden','true');}
    });
    document.addEventListener('keydown',e=>{
      if(e.key==='Escape'&&overlay.style.display==='flex'){
        overlay.style.display='none';
        overlay.setAttribute('aria-hidden','true');
      }
    });

    showPassword('simple');
  </script>
</body>
</html>
